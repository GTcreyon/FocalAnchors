const focalAnchors={attrNameContainer:"focal-anchors-has",attrNameHighlight:"focal-anchor-is",classNameHighlight:"focal-anchor",toggleAnchorsById:function(t){focalAnchors.toggleAnchorsByRef(document.getElementById(t))},toggleAnchorsByRef:function(t){t.hasAttribute(focalAnchors.attrNameContainer)?focalAnchors.clearAnchors(t):focalAnchors.addAnchorsToContainer(t)},clearAnchors:function(t){const e=[t];for(;e.length>0;){const t=e.pop();t.removeAttribute(focalAnchors.attrNameContainer),Array.from(t.childNodes).forEach(t=>{if(t.nodeType!==Node.TEXT_NODE&&(t.hasAttribute(focalAnchors.attrNameContainer)&&e.push(t),t.hasAttribute(focalAnchors.attrNameHighlight))){const e=t.previousSibling,o=t.nextSibling;null!==e&&e.nodeType===Node.TEXT_NODE?(e.textContent+=t.textContent,o.nodeType===Node.TEXT_NODE&&(e.textContent+=o.textContent,t.parentNode.removeChild(o))):null!==o&&o.nodeType===Node.TEXT_NODE?o.textContent=t.textContent+o.textContent:t.parentNode.insertBefore(document.createTextNode(t.textContent),t),t.parentNode.removeChild(t)}})}},addAnchorsToContainer:function(t){const e=[t];for(;e.length>0;){const t=e.pop();Array.from(t.childNodes).forEach(t=>{t.nodeType===Node.TEXT_NODE?(t.parentNode.setAttribute(focalAnchors.attrNameContainer,""),focalAnchors.injectAnchorText(t),t.parentNode.removeChild(t)):t.hasAttribute(focalAnchors.attrNameContainer)||e.push(t)})}},injectAnchorText:function(t){const e=t.textContent.split(" ");for(let o=0;o<e.length;o++){const n=e[o],r=n.replaceAll(/\W/g,"").length,a=Math.min(Math.ceil(r/2),2);if(r>0){const e=document.createElement("b");e.setAttribute("class",focalAnchors.classNameHighlight),e.setAttribute(focalAnchors.attrNameHighlight,""),e.textContent=n.substring(0,a),t.parentNode.insertBefore(e,t),t.parentNode.insertBefore(document.createTextNode(n.substring(a)+" "),t)}}}};
//github.com/GTcreyon/FocalAnchors
const focalAnchors={attrName:"has-focal-anchors",toggleAnchors:function(e){const t=document.getElementById(e);t.hasAttribute(focalAnchors.attrName)?focalAnchors.clearAnchors(t):focalAnchors.addAnchorsToContainer(t)},clearAnchors:function(e){e.innerHTML=e.innerHTML.replaceAll("<b>",""),focalAnchors.clearElementByRef(e)},addAnchorsToContainer:function(e){const t=[e];for(;t.length>0;){const e=t.pop();Array.from(e.childNodes).forEach(e=>{e.nodeType===Node.TEXT_NODE?(focalAnchors.markElementByRef(e.parentNode),focalAnchors.injectAnchorText(e),e.parentNode.removeChild(e)):e.hasAttribute(focalAnchors.attrName)||t.push(e)})}},injectAnchorText:function(e){const t=e.textContent.split(" ");for(let e=0;e<t.length;e++){let n=t[e];const o=n.replaceAll(/\W/g,"").length,r=Math.min(Math.ceil(o/2),2);n=o>0?"<b>"+n.substring(0,r)+"</b>"+n.substring(r):"",t[e]=n}const n=document.createElement("div");n.innerHTML=t.join(" "),Array.from(n.childNodes).forEach(t=>{e.parentNode.insertBefore(t,e)})},markElementById:function(e){document.getElementById(e).setAttribute(focalAnchors.attrName,"")},markElementByRef:function(e){e.setAttribute(focalAnchors.attrName,"")},clearElementById:function(e){document.getElementById(e).removeAttribute(focalAnchors.attrName)},clearElementByRef:function(e){e.removeAttribute(focalAnchors.attrName)}};
//github.com/GTcreyon/FocalAnchors